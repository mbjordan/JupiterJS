/**
 * JupiterJS
 * MIT License (http://honyovk.mit-license.org/).
 * Version 1.1.0
 */
(function(r){function e(r){return Object.prototype.toString.call(r||null).replace(/\[object\s|\]/g,"").toLowerCase()}var t,n,o={};return t=function(r,t){function n(t){var n={key:"_"+(new Date).getTime(),callback:function(){},context:r};if("function"==typeof t)return n.callback=t,n;if("object"===e(t)){for(var o in n)t.hasOwnProperty(o)&&(n[o]=t[o]);return n}return n}var i={};return i.sub=function(r){var i,u;if(o.hasOwnProperty(t)||(o[t]=[]),"array"===e(r)){for(i=0,u=r.length;u>i;i++)o[t].push(n(r[i]));return this}return o[t].push(n(r)),this},i.pub=function(){var r,e,n;if(!o.hasOwnProperty(t))return this;for(r=o[t],e=0,n=r.length;n>e;e++)r[e].callback.apply(r[e].context,arguments);return this},i.unsub=function(r){var e,n;if(!o.hasOwnProperty(t))return this;if(r){for(e=0,n=o[t].length;n>e;e++)if(o[t][e].key===r){o[t].splice(e,1);break}return this}return delete o[t],this},i.prove=function(r){return r?o:o[t]},i.list=i.prove,i},n=function(r){var n,o,i=this,u={};if(!r)throw Error("Jupiter requires a message");if("array"===e(r)){for(n=0,o=r.length;o>n;n++)u[r[n]]=t(i,r[n]);return u}return t(i,r)},"function"==typeof define&&define.amd?(define(function(){return n}),void 0):"undefined"!=typeof module&&module.exports?(module.exports=n,void 0):(r.jupiter=n,void 0)})("undefined"!=typeof window?window:{});