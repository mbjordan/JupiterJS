/**
 * JupiterJS
 * MIT License (http://honyovk.com/mit.txt).
 * Version 1.2.1
 */
(function(e){function n(e){return Object.prototype.toString.call(e||null).replace(/\[object\s|\]/g,"").toLowerCase()}var t,r,i={};return t=function(e,t){var r={};return r.sub=function(r,o,u){var f={};return i.hasOwnProperty(t)||(i[t]=[]),f.key="string"===n(r)?r:"_"+(new Date).getTime(),f.fn="function"===n(r)?r:o&&"function"===n(o)?o:function(){},f.context=o&&"object"===n(o)?o:u?u:e,i[t].push(f),this},r.pub=function(){var e,n,r;if(!i.hasOwnProperty(t))return this;for(e=i[t],n=0,r=e.length;r>n;n++)e[n].fn.apply(e[n].context,arguments);return this},r.unsub=function(e){var n,r;if(!i.hasOwnProperty(t))return this;if(e){for(n=0,r=i[t].length;r>n;n++)if(i[t][n].key===e){i[t].splice(n,1);break}return this}return delete i[t],this},r.prove=function(e,r){var o=this,u=r?i:i[t];return e&&"function"===n(e)&&e.call(o,u),o},r},r=function(e){var r,i,o,u=this;if(!e)throw Error("Jupiter requires a message");if("array"===n(e)){for(r={},i=0,o=e.length;o>i;i++)r[e[i]]=t(u,e[i]);return r}return t(u,e)},"function"==typeof define&&define.amd?(define(function(){return r}),void 0):"undefined"!=typeof module&&module.exports?(module.exports=r,void 0):(e.jupiter=r,void 0)})("undefined"!=typeof window?window:{});