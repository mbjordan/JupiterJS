/**
 * JupiterJS
 * MIT License (http://honyovk.mit-license.org/).
 * Version 1.1.1
 */
(function(r){function e(r){return Object.prototype.toString.call(r||null).replace(/\[object\s|\]/g,"").toLowerCase()}var t,n,i={};return t=function(r,t){function n(t){var n={key:"_"+(new Date).getTime(),callback:function(){},context:r};if("function"==typeof t)return n.callback=t,n;if("object"===e(t)){for(var i in n)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}return n}var o={};return o.sub=function(r){var o,u;if(i.hasOwnProperty(t)||(i[t]=[]),"array"===e(r)){for(o=0,u=r.length;u>o;o++)i[t].push(n(r[o]));return this}return i[t].push(n(r)),this},o.pub=function(){var r,e,n;if(!i.hasOwnProperty(t))return this;for(r=i[t],e=0,n=r.length;n>e;e++)r[e].callback.apply(r[e].context,arguments);return this},o.unsub=function(r){var e,n;if(!i.hasOwnProperty(t))return this;if(r){for(e=0,n=i[t].length;n>e;e++)if(i[t][e].key===r){i[t].splice(e,1);break}return this}return delete i[t],this},o.prove=function(r,n){var o=this,u=n?i:i[t];return r&&"function"===e(r)&&r.call(o,u),o},o.list=o.prove,o},n=function(r){var n,i,o=this,u={};if(!r)throw Error("Jupiter requires a message");if("array"===e(r)){for(n=0,i=r.length;i>n;n++)u[r[n]]=t(o,r[n]);return u}return t(o,r)},"function"==typeof define&&define.amd?(define(function(){return n}),void 0):"undefined"!=typeof module&&module.exports?(module.exports=n,void 0):(r.jupiter=n,void 0)})("undefined"!=typeof window?window:{});